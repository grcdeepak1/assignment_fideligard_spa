<h1>Trade</h1>
<a href="#" ng-click="seedTradeData()">Seed trade data</a>
<a class="pull-right" ui-sref="root.transaction">transactions</a>
<a class="pull-right" ui-sref="root.portfolio">portfolio</a>

<div class="row">
  <div class="col-md-6">
    <form name="tradeForm">
    <div class="row">
      <label class="col-md-4">Symbol:</label>
      <input class="col-md-8" type="text" ng-model="params.symbol">
    </div>
    <div class="row">
      <label class="col-md-4">Buy/Sell:</label>
      <select class="col-md-8" name="type" ng-model="params.type">
        <option value="buy">BUY</option>
        <option value="sell">SELL</option>
      </select><br>
    </div>

    <div class="row">
      <label class="col-md-4">Quantity:</label>
      <input class="col-md-8" type="number" name="quantity" ng-max="maxQuantity()" ng-min="1" ng-model="params.quantity">
    </div>

    <div class="row">
      <label class="col-md-4">Date:</label>
      <input class="col-md-8" type="date" id="dateInput" name="date" ng-model="params.date"
         placeholder="yyyy-MM-dd" min="2014-01-01" max="2015-01-01" required
         ng-change="onDateChange(params.date)"/><br>
    </div>

    <div class="row">
      <label class="col-md-4">Price:</label>
      <p class="col-md-8">{{ params.price | currency }}</p><br>
    </div>

    <div class="row">
      <label class="col-md-4">Cost:</label>
      <p class="col-md-8">{{ params.price * params.quantity | currency }}</p>
    </div>

    <label class="btn btn-primary" ng-disabled="tradeForm.$invalid" ng-click="trade(tradeForm.$valid, tradeForm)">Place Order!</label>
    </form>
  </div>
  <div class="col-md-6">
    <h4>Cash Available: </h4>{{ cashAvailable | currency }}
    <h4>
      <strong>Order Status:</strong>
    </h4>
    <div class="alert alert-success text-center" ng-if="tradeForm.$valid">
      <strong>Valid</strong>
    </div>
    <div class="alert alert-danger text-center" ng-if="tradeForm.$invalid">
      <strong>Invalid</strong>
    </div>
  </div>
</div>
